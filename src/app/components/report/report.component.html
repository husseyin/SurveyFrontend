<div style="margin: 2%" class="card">
  <div style="font-weight: bold" class="card-header">SORU RAPORLARI</div>
  <div class="card-body">
    <p-dropdown [options]="companies" optionLabel="Name" [(ngModel)]="selectCompany"
      (onChange)="getQuestionsByCompanyId(selectCompany.Id)" [filter]="true" filterBy="Name"
      placeholder="Şirket Seçin.">
    </p-dropdown>

    <p-dropdown *ngIf="selectCompany" [options]="questions" optionLabel="Name" [(ngModel)]="selectQuestion"
      [filter]="true" filterBy="Name" placeholder="Soru Seçin.">
    </p-dropdown>

    <button (click)="getReport(selectQuestion)" style="margin: 1%; width: 12%" pButton pRipple type="button"
      label="Getir" class="p-button-help"></button>

    <p-table>
      <ng-template pTemplate="header">
        <tr>
          <th *ngFor="let answer of answers" style="font-weight: bold;font-size: medium;">{{ answer.Name }}</th>
        </tr>
        <tr *ngIf="selectQuestion">
          <th *ngFor="let count of counts" style="font-size: large;"><span
            class="badge bg-secondary">{{count.Count}}</span></th>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>